<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archive Project - zaivion hampden</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&family=Dancing+Script:wght@400;500;600;700&family=Special+Elite&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="project-page archive-project-page">
        <div class="page-content">
            <!-- Header with Home and Back -->
            <div class="notable-work-header">
                <div class="header-item">
                    <a href="index.html" class="home-link-header">home</a>
                    <a href="projects.html" class="back-link-header" style="margin-left: 1.5rem;">back</a>
                </div>
                <div class="header-item">
                    <!-- Empty for spacing -->
                </div>
            </div>
            
            <div class="project-header">
                <div class="project-title-column">
                    <h1 class="project-title">
                        <i><span style="line-height: 1;">Archive </span></i><span class="project-year">(2023)</span>
                    </h1>
                </div>
                <div class="project-spacer"></div>
                <div class="project-description-column">
                    <div class="project-description-tape">
                        <p class="project-description">
                            November, 2023. Raku fired pieces uncovered. Mummified pottery reveals more about how we view the past.
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="project-piece">
                <div class="folder-back"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-front-flap">
                    <span class="folder-tab-label">Reminder of the Past.</span>
                </div>
                <div class="piece-image-column">
                    <div class="piece-image-placeholder clickable-image" data-image-title="Reminder of the Past" data-project-image="1" style="text-align: center; cursor: pointer;">
                        <span>Image: Reminder of the Past</span>
                    </div>
                </div>
                <div class="piece-info-column">
                    <h3 class="piece-title"><i><b>Reminder of the Past</b></i></h3>
                    <p class="piece-details">5.5 x 5.5 x 6.5</p>
                    <p class="piece-details">Raku-fire Stoneware</p>
                    <p class="piece-caption"><i>Scars are evidence that wounds can heal and pain can fade.</i></p>
                </div>
            </div>
            
            <div class="project-piece">
                <div class="folder-back"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-front-flap">
                    <span class="folder-tab-label">Forgotten.</span>
                </div>
                <div class="piece-image-column">
                    <div class="piece-image-placeholder clickable-image" data-image-title="Forgotten" data-project-image="2" style="text-align: center; cursor: pointer;">
                        <span>Image: Forgotten</span>
                    </div>
                </div>
                <div class="piece-info-column">
                    <h3 class="piece-title"><i><b>Forgotten</b></i></h3>
                    <p class="piece-details">4.5 x 4.5 x 8</p>
                    <p class="piece-details">Raku-fire Stoneware</p>
                    <p class="piece-caption"><i>To be forgotten is noble– it means that, at some point, you have lived.</i></p>
                </div>
            </div>
            
            <div class="project-piece">
                <div class="folder-back"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-front-flap">
                    <span class="folder-tab-label">Reminiscent.</span>
                </div>
                <div class="piece-image-column">
                    <div class="piece-image-placeholder clickable-image" data-image-title="Reminiscent" data-project-image="3" style="text-align: center; cursor: pointer;">
                        <span>Image: Reminiscent</span>
                    </div>
                </div>
                <div class="piece-info-column">
                    <h3 class="piece-title"><i><b>Reminiscent</b></i></h3>
                    <p class="piece-details">5.5 x 5.5 x 4.5</p>
                    <p class="piece-details">Raku-fire Stoneware</p>
                    <p class="piece-caption"><i>Focusing on what you were distracts from what you are.</i></p>
                </div>
            </div>
            
            <div class="project-piece">
                <div class="folder-back"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-paper"></div>
                <div class="folder-front-flap">
                    <span class="folder-tab-label">Reconstruction.</span>
                </div>
                <div class="piece-image-column">
                    <div class="piece-image-placeholder clickable-image" data-image-title="Reconstruction" data-project-image="4" style="text-align: center; cursor: pointer;">
                        <span>Image: Reconstruction</span>
                    </div>
                </div>
                <div class="piece-info-column">
                    <h3 class="piece-title"><i><b>Reconstruction</b></i></h3>
                    <p class="piece-details">6 x 6 x 6</p>
                    <p class="piece-details">Raku-fire Stoneware</p>
                    <p class="piece-caption"><i>When picking up the pieces, it's okay to miss one or two.</i></p>
                </div>
            </div>
        </div>
    </main>

    <!-- Image Overlay -->
    <div class="image-overlay" id="image-overlay">
        <div class="image-overlay-backdrop" id="image-overlay-backdrop"></div>
        <div class="image-overlay-content">
            <div class="image-overlay-image" id="image-overlay-image">
                <div class="image-overlay-placeholder">
                    <span>Enlarged Image</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Archive Piece Overlay (Old Paper Style) -->
    <div class="archive-piece-overlay" id="archive-piece-overlay">
        <div class="archive-piece-backdrop" id="archive-piece-backdrop"></div>
        <div class="archive-piece-paper">
            <div class="archive-piece-photo-container">
                <div class="paper-clip">
                    <svg width="32" height="60" viewBox="0 0 32 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 2C8.27 2 2 8.27 2 16V22C2 26.42 5.58 30 10 30H12C13.1 30 14 30.9 14 32V38C14 39.1 13.1 40 12 40H10C5.58 40 2 43.58 2 48V54C2 55.1 2.9 56 4 56H28C29.1 56 30 55.1 30 54V48C30 43.58 26.42 40 22 40H20C18.9 40 18 39.1 18 38V32C18 30.9 18.9 30 20 30H22C26.42 30 30 26.42 30 22V16C30 8.27 23.73 2 16 2Z" fill="#1a1a1a"/>
                        <path d="M16 4C9.37 4 4 9.37 4 16V22C4 25.31 6.69 28 10 28H12C13.1 28 14 28.9 14 30V34C14 35.1 13.1 36 12 36H10C6.69 36 4 38.69 4 42V48C4 48.55 4.45 49 5 49H27C27.55 49 28 48.55 28 48V42C28 38.69 25.31 36 22 36H20C18.9 36 18 35.1 18 34V30C18 28.9 18.9 28 20 28H22C25.31 28 28 25.31 28 22V16C28 9.37 22.63 4 16 4Z" fill="#0d0d0d" opacity="0.3"/>
                    </svg>
                </div>
                <div class="photo-white-border">
                    <img class="archive-piece-photo" id="archive-piece-photo" src="" alt="">
                </div>
            </div>
            <div class="archive-piece-content">
                <h3 class="archive-piece-title" id="archive-piece-title"></h3>
                <p class="archive-piece-details" id="archive-piece-details"></p>
                <p class="archive-piece-caption" id="archive-piece-caption"></p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Image overlay functionality for Archive Project
        const clickableImages = document.querySelectorAll('.clickable-image');
        const imageOverlay = document.getElementById('image-overlay');
        const imageOverlayBackdrop = document.getElementById('image-overlay-backdrop');
        const imageOverlayImage = document.getElementById('image-overlay-image');

        clickableImages.forEach(img => {
            img.addEventListener('click', function(e) {
                e.stopPropagation();
                const title = this.getAttribute('data-image-title');
                const imageId = this.getAttribute('data-project-image');
                
                // Find the actual image if it's been loaded
                const actualImg = this.querySelector('img');
                let imageSrc = '';
                
                if (actualImg) {
                    imageSrc = actualImg.src;
                } else {
                    // Try to construct the path
                    imageSrc = `images/archive-project/${imageId}.jpg`;
                }
                
                // Update overlay with image
                const overlayImg = imageOverlayImage.querySelector('img');
                if (overlayImg) {
                    overlayImg.src = imageSrc;
                } else {
                    imageOverlayImage.innerHTML = `<img src="${imageSrc}" alt="${title}" style="max-width: 90%; height: auto; object-fit: contain; display: block; margin: 0 auto;">`;
                }
                
                imageOverlay.classList.add('active');
                document.body.classList.add('image-overlay-active');
                document.body.style.overflow = 'hidden';
            });
        });

        function closeImageOverlay() {
            imageOverlay.classList.remove('active');
            document.body.classList.remove('image-overlay-active');
            document.body.style.overflow = '';
        }

        if (imageOverlayBackdrop) {
            imageOverlayBackdrop.addEventListener('click', closeImageOverlay);
        }

        // Close when clicking on the overlay content (but not the image itself)
        if (imageOverlayImage) {
            imageOverlayImage.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && imageOverlay.classList.contains('active')) {
                closeImageOverlay();
            }
        });

        // Archive piece overlay functionality
        const archivePieceOverlay = document.getElementById('archive-piece-overlay');
        const archivePieceBackdrop = document.getElementById('archive-piece-backdrop');
        const archivePiecePhoto = document.getElementById('archive-piece-photo');
        const archivePieceTitle = document.getElementById('archive-piece-title');
        const archivePieceDetails = document.getElementById('archive-piece-details');
        const archivePieceCaption = document.getElementById('archive-piece-caption');

        // Make folders clickable
        const projectPieces = document.querySelectorAll('.archive-project-page .project-piece');
        
        projectPieces.forEach(piece => {
            // Make the folder clickable (but not the image inside)
            piece.addEventListener('click', function(e) {
                // Don't trigger if clicking on the image placeholder
                if (e.target.closest('.clickable-image')) {
                    return;
                }
                
                e.stopPropagation();
                
                // Get piece data from the piece
                const titleEl = piece.querySelector('.piece-title');
                const detailsEls = piece.querySelectorAll('.piece-details');
                const captionEl = piece.querySelector('.piece-caption');
                const imagePlaceholder = piece.querySelector('.clickable-image');
                
                const title = titleEl ? titleEl.textContent.replace(/\s+/g, ' ').trim() : '';
                const details = Array.from(detailsEls).map(el => el.textContent.trim()).join(' • ');
                const caption = captionEl ? captionEl.textContent.replace(/\s+/g, ' ').trim() : '';
                const imageId = imagePlaceholder ? imagePlaceholder.getAttribute('data-project-image') : '';
                
                // Try to find the actual image
                const actualImg = imagePlaceholder ? imagePlaceholder.querySelector('img') : null;
                let imageSrc = '';
                
                if (actualImg) {
                    imageSrc = actualImg.src;
                } else if (imageId) {
                    // Try to construct the path - check if folder structure exists
                    imageSrc = `images/archive-project/${imageId}/1.jpg`;
                }
                
                // Update overlay content
                archivePieceTitle.textContent = title;
                archivePieceDetails.textContent = details;
                archivePieceCaption.textContent = caption;
                
                if (imageSrc) {
                    archivePiecePhoto.src = imageSrc;
                    archivePiecePhoto.style.display = 'block';
                    
                    // Add data attribute to photo container for piece-specific styling
                    const photoWhiteBorder = archivePiecePhoto.closest('.photo-white-border') || document.querySelector('.photo-white-border');
                    if (photoWhiteBorder) {
                        photoWhiteBorder.setAttribute('data-piece-title', title.toLowerCase().replace(/\s+/g, '-'));
                    }
                } else {
                    archivePiecePhoto.style.display = 'none';
                }
                
                // Randomize coffee stain positions
                const archivePiecePaper = document.querySelector('.archive-piece-paper');
                if (archivePiecePaper) {
                    // Random position for first stain (::before)
                    const stain1Top = Math.random() * 40 + 5; // 5% to 45%
                    const stain1Right = Math.random() * 30 + 5; // 5% to 35%
                    const stain1Width = Math.random() * 60 + 80; // 80px to 140px
                    const stain1Height = Math.random() * 50 + 70; // 70px to 120px
                    
                    // Random position for second stain (::after)
                    const stain2Bottom = Math.random() * 40 + 5; // 5% to 45%
                    const stain2Left = Math.random() * 30 + 5; // 5% to 35%
                    const stain2Width = Math.random() * 50 + 60; // 60px to 110px
                    const stain2Height = Math.random() * 40 + 50; // 50px to 90px
                    
                    archivePiecePaper.style.setProperty('--stain-1-top', stain1Top + '%');
                    archivePiecePaper.style.setProperty('--stain-1-right', stain1Right + '%');
                    archivePiecePaper.style.setProperty('--stain-1-width', stain1Width + 'px');
                    archivePiecePaper.style.setProperty('--stain-1-height', stain1Height + 'px');
                    archivePiecePaper.style.setProperty('--stain-2-bottom', stain2Bottom + '%');
                    archivePiecePaper.style.setProperty('--stain-2-left', stain2Left + '%');
                    archivePiecePaper.style.setProperty('--stain-2-width', stain2Width + 'px');
                    archivePiecePaper.style.setProperty('--stain-2-height', stain2Height + 'px');
                }
                
                // Show overlay
                archivePieceOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });

        function closeArchivePieceOverlay() {
            archivePieceOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        if (archivePieceBackdrop) {
            archivePieceBackdrop.addEventListener('click', closeArchivePieceOverlay);
        }

        // Close when clicking on the paper (but not the content)
        const archivePiecePaper = document.querySelector('.archive-piece-paper');
        if (archivePiecePaper) {
            archivePiecePaper.addEventListener('click', function(e) {
                // Only close if clicking on the paper itself, not the content
                if (e.target === archivePiecePaper) {
                    closeArchivePieceOverlay();
                }
            });
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && archivePieceOverlay.classList.contains('active')) {
                closeArchivePieceOverlay();
            }
        });
    </script>
</body>
</html>
